var fs = require('fs');
<<<<<<< HEAD
var async = require('async');
=======
var eachSeries = require('async/eachSeries');
>>>>>>> e5104e971a6962095ce110e1d0623ecc02dfc1ea

module.exports = function(folder, cb) {
  if (folder[folder.length - 1] !== '/')
    folder += '/';

<<<<<<< HEAD
  async.eachSeries(['git', 'hg', 'svn'],
=======
  eachSeries(['git', 'hg', 'svn'],
>>>>>>> e5104e971a6962095ce110e1d0623ecc02dfc1ea
  function(type, callback) {
    fs.exists(folder+'.'+type, function(exists) {
      if (exists)
        return callback(type);
      else
        return callback();
    });
  },
  function(final) {
    return cb(final ? final : 'No versioning system found', folder);
  });
};
